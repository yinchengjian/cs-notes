# Java 虚拟机

## 运行时数据区域

程序计数器

Java虚拟机栈

本地方法栈

堆

方法区

运行时常量池

直接内存

## 垃圾收集

### 判断是否可被回收

引用计数法

可达性分析法

### 引用类型

强引用

软引用

弱引用

虚引用

### 垃圾收集算法

标记-清除

复制

标记-整理

分代收集

### 垃圾收集器

CMS

G1

## 内存分配和回收策略

### Minor GC和Full GC

### 内存分配策略

对象优先在Eden分配

大对象直接进入老年代

长期存活的对象进入老年代

空间分配担保

### FullGC触发条件

调用System.gc()

老年代空间不足

空间担保失败

concurrent mode failure

## 类加载机制

类的生命周期：加载，验证，准备，解析，初始化，使用，卸载

类初始化时机：主动引用，被动引用

## 类加载器

## 双亲委派模型



